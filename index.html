<!DOCTYPE html>
<html>
<head>
<title>‚ö°Ô∏è PAYEDE INT. v16.0 - Plataforma PAYEDE INT.</title>
<meta name="viewport" content="width=device-width">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:system-ui;background:#f5f5f5;min-height:100vh;padding:20px;}
.header{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:25px;border-radius:20px;text-align:center;margin-bottom:25px;}
.card{background:white;border-radius:20px;padding:30px;margin-bottom:25px;box-shadow:0 8px 30px rgba(0,0,0,0.1);}
.btn{width:100%;padding:16px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;margin:8px 0;transition:all 0.3s;}
.btn-primary{background:linear-gradient(135deg,#4caf50,#45a049);color:white;}
.btn-success{background:linear-gradient(135deg,#28a745,#20c997);color:white;}
input{width:100%;padding:16px;border:1px solid #e1e5e9;border-radius:12px;font-size:16px;margin:8px 0;}
.balance-display{font-size:28px;font-weight:bold;color:#4caf50;text-align:center;margin:20px 0;}
.picpay-section{background:#1a73e8;padding:20px;border-radius:15px;color:white;text-align:center;margin:20px 0;}
#qrPicPay{max-width:250px;height:250px;border-radius:10px;}
.wallet-info{background:#f0f8f0;padding:15px;border-radius:10px;margin:10px 0;}
.admin-section{background:#fff3cd;padding:20px;border-radius:15px;border:2px dashed #ffc107;}
@media(max-width:768px){input{font-size:14px;padding:14px;}}
</style>
</head>
<body>
<div class="header">
  <h1>‚ö°Ô∏è PAYEDE INT. v16.0</h1>
  <div style="font-size:14px;opacity:0.9;">Plataforma PAYEDE INT. - Carteira An√¥nima EDE</div>
</div>

<!-- üí≥ PICPAY PF - AN√îNIMO -->
<div class="card">
  <h3>‚ûï Ativar Carteira PAYEDE INT. (R$2 = 10 EDE)</h3>
  <input id="nomeCompleto" placeholder="Nome Completo (obrigat√≥rio)" required>
  <div class="picpay-section">
    <canvas id="qrPicPay"></canvas>
    <div style="font-size:20px;font-weight:bold;margin:15px 0;">
      R$ 2,00 via PicPay Digital
    </div>
    <div style="font-size:14px;">
      ‚úÖ Comprovante: "PicPay Digital Ltda"<br>
      ‚úÖ Plataforma: PAYEDE INT. ¬© 2026
    </div>
  </div>
  
  <input id="txidPicPay" placeholder="Cole ID da transa√ß√£o PicPay" maxlength="50">
  <button class="btn btn-primary" onclick="verificarPicPay()">
    ‚úÖ Confirmar e Ativar Carteira
  </button>
</div>

<!-- üë§ MINHA CARTEIRA -->
<div class="card">
  <h3>üë§ Minha Carteira PAYEDE INT.</h3>
  <div class="balance-display" id="meuSaldo">0 EDE</div>
  <div id="walletInfo" class="wallet-info" style="display:none;">
    <strong>üÜî Wallet ID:</strong> <span id="minhaWalletId"></span><br>
    <strong>üë§ Titular:</strong> <span id="nomeTitular"></span><br>
    <strong>üîê Chave √önica:</strong>
  </div>
  <input id="minhaChave" placeholder="Sua chave √∫nica aparece aqui" readonly>
  <button class="btn btn-success" onclick="copiarMinhaChave()">üìã Copiar Chave</button>
</div>

<!-- üîÄ TRANSFER√äNCIAS -->
<div class="card">
  <h3>üîÄ Transferir EDE (PAYEDE INT.)</h3>
  <input id="destinoChave" placeholder="Chave √∫nica do destinat√°rio">
  <input id="quantidadeEDE" type="number" placeholder="Quantidade EDE" min="0.1" step="0.1">
  <button class="btn btn-primary" onclick="fazerTransferencia()">
    üöÄ Transferir
  </button>
  <div id="statusTransferencia"></div>
</div>

<!-- üîß ADMIN - CARTEIRAS CRIADAS -->
<div class="card admin-section">
  <h3>üîß Admin PAYEDE INT.</h3>
  <div id="todasWallets"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
<script>
// === PAYEDE INT. v16 FINAL - SEYLOR SENESH ADMIN ===
class PayEDE_INT {
  constructor() {
    this.wallets = JSON.parse(localStorage.getItem('payedeINTWallets')) || [];
    this.transactions = JSON.parse(localStorage.getItem('payedeINTTransactions')) || [];
    this.totalVendas = parseInt(localStorage.getItem('totalVendas')) || 0;
    this.pagamentos = new Set(JSON.parse(localStorage.getItem('picpayPagos')) || []);
    this.minhaWallet = this.carregarMinhaWallet();
    this.criarCarteiraAdmin();
    this.init();
  }
  
  // üõ°Ô∏è CRIA CARTEIRA ADMIN SEYLOR SENESH (10.000 EDE)
  criarCarteiraAdmin() {
    const adminExiste = this.wallets.find(w => w.nome === 'Seylor Senesh');
    if (!adminExiste) {
      const adminWallet = {
        id: 'PAY000000',
        nome: 'Seylor Senesh',
        privateKey: 'PAYEDE_INT_ADMIN_10000_7b4f2a9c8d3e5f1g2h3i4j5k6l7m8n9o',
        balance: 10000,
        txid: 'ADMIN_MASTER_PAYEDE_INT',
        status: 'admin',
        data: '20/02/2026 09:30:00',
        split: { total: 0, admin: 0, marketing: 0, reserva: 0 }
      };
      this.wallets.unshift(adminWallet);
      localStorage.setItem('minhaChavePrivada', adminWallet.privateKey);
      this.minhaWallet = adminWallet;
      this.salvarTudo();
    }
  }
  
  init() {
    this.gerarQRPicPay();
    this.renderTudo();
  }
  
  gerarQRPicPay() {
    // ‚ùå MUDE AQUI: SEU_USERNAME_PICPAY
    const usernamePicPay = 'jaedesystemint'; 
    const picpayUrl = `picpay://pay?username=${usernamePicPay}&amount=2.00`;
    QRCode.toCanvas(document.getElementById('qrPicPay'), picpayUrl);
  }
  
  verificarPicPay() {
    const nome = document.getElementById('nomeCompleto').value.trim();
    const txid = document.getElementById('txidPicPay').value.trim();
    
    if (!nome || nome.length < 3) {
      return alert('‚ùå Nome completo obrigat√≥rio!');
    }
    
    if (!txid || this.pagamentos.has(txid)) {
      return alert('‚ùå ID PicPay inv√°lido ou j√° usado!');
    }
    
    this.processarCompra(nome, txid);
  }
  
  processarCompra(nome, txid) {
    this.totalVendas++;
    const walletId = `PAY${this.totalVendas.toString().padStart(6, '0')}`;
    const privateKey = this.gerarChaveUnica();
    
    const wallet = {
      id: walletId,
      nome: nome,
      privateKey: privateKey,
      balance: 10,
      txid: txid,
      status: 'ativo',
      data: new Date().toLocaleString('pt-BR'),
      split: { total: 2, admin: 1.4, marketing: 0.4, reserva: 0.2 }
    };
    
    this.wallets.unshift(wallet);
    this.pagamentos.add(txid);
    this.salvarTudo();
    
    this.renderTudo();
    alert(`‚úÖ Carteira ativada na Plataforma PAYEDE INT.!
üÜî ${walletId}
üë§ ${nome}
üí∞ 10 EDE liberados
üîê ${privateKey.slice(0,16)}...`);
  }
  
  // üîë CHAVE √öNICA CRIPTOGR√ÅFICA PAYEDE INT.
  gerarChaveUnica() {
    const array = new Uint8Array(32);
    crypto.getRandomValues(array);
    const hex = Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
    return `PAYEDE_INT_${Date.now()}_${hex.slice(0,32)}`;
  }
  
  fazerTransferencia() {
    const destino = document.getElementById('destinoChave').value.trim();
    const qtd = parseFloat(document.getElementById('quantidadeEDE').value);
    
    if (!this.minhaWallet) {
      return alert('‚ùå Ative sua carteira primeiro!');
    }
    
    if (qtd > this.minhaWallet.balance || qtd <= 0) {
      return alert('‚ùå Saldo insuficiente!');
    }
    
    const destinatario = this.wallets.find(w => w.privateKey === destino);
    if (!destinatario) {
      return alert('‚ùå Chave destino inv√°lida!');
    }
    
    this.minhaWallet.balance -= qtd;
    destinatario.balance += qtd;
    
    const tx = {
      id: `TX${Date.now()}`,
      from: this.minhaWallet.id,
      fromNome: this.minhaWallet.nome,
      to: destinatario.id,
      toNome: destinatario.nome,
      amount: qtd,
      data: new Date().toLocaleString('pt-BR')
    };
    
    this.transactions.unshift(tx);
    this.salvarTudo();
    this.renderTudo();
    
    document.getElementById('statusTransferencia').innerHTML = 
      `<div style="color:#28a745;font-weight:bold;">‚úÖ ${qtd} EDE ‚Üí ${destinatario.nome} (${destinatario.id.slice(-4)})</div>`;
  }
  
  salvarTudo() {
    localStorage.setItem('payedeINTWallets', JSON.stringify(this.wallets));
    localStorage.setItem('payedeINTTransactions', JSON.stringify(this.transactions));
    localStorage.setItem('picpayPagos', JSON.stringify([...this.pagamentos]));
    localStorage.setItem('totalVendas', this.totalVendas);
  }
  
  carregarMinhaWallet() {
    const chaveSalva = localStorage.getItem('minhaChavePrivada');
    return chaveSalva ? this.wallets.find(w => w.privateKey === chaveSalva) : null;
  }
  
  renderTudo() {
    // Minha carteira
    if (this.minhaWallet) {
      document.getElementById('meuSaldo').textContent = `${this.minhaWallet.balance.toFixed(2)} EDE`;
      document.getElementById('minhaChave').value = this.minhaWallet.privateKey;
      document.getElementById('minhaWalletId').textContent = this.minhaWallet.id;
      document.getElementById('nomeTitular').textContent = this.minhaWallet.nome;
      document.getElementById('walletInfo').style.display = 'block';
    } else {
      document.getElementById('meuSaldo').textContent = '0 EDE';
    }
    
    // Admin - todas wallets
    const walletsHtml = this.wallets.map((w, i) => `
      <div style="padding:15px;border:1px solid #eee;border-radius:10px;margin:10px 0;background:${w.status === 'admin' ? '#d4edda' : '#f9f9f9'};">
        <div style="font-weight:bold;font-size:16px;">${w.id}</div>
        <div>${w.nome}</div>
        <div style="color:#4caf50;font-size:18px;">${w.balance} EDE</div>
        <div style="font-size:12px;color:#666;">${w.privateKey.slice(0,24)}... | ${w.data}</div>
      </div>
    `).join('');
    
    document.getElementById('todasWallets').innerHTML = walletsHtml || 'Nenhuma carteira criada';
  }
}

// INICIALIZA
const payEDE_INT = new PayEDE_INT();
window.payEDE_INT = payEDE_INT;

function copiarMinhaChave() {
  const chave = document.getElementById('minhaChave');
  chave.select();
  document.execCommand('copy');
  alert('‚úÖ Chave √∫nica PAYEDE INT. copiada!');
}
</script>
</body>
</html>