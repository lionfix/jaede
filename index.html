<!DOCTYPE html>
<html>
<head>
<title>âš¡ï¸ PAYEDE INT. v16.3 - Seylor Senesh 10K Admin</title>
<meta name="viewport" content="width=device-width">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:system-ui;background:#f5f5f5;min-height:100vh;padding:20px;}
.header{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:25px;border-radius:20px;text-align:center;margin-bottom:25px;}
.card{background:white;border-radius:20px;padding:30px;margin-bottom:25px;box-shadow:0 8px 30px rgba(0,0,0,0.1);}
.btn{width:100%;padding:16px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;margin:8px 0;transition:all 0.3s;}
.btn-primary{background:linear-gradient(135deg,#4caf50,#45a049);color:white;}
.btn-success{background:linear-gradient(135deg,#28a745,#20c997);color:white;}
.btn-admin{background:linear-gradient(135deg,#ff6b6b,#ee5a52);color:white;}
input{width:100%;padding:16px;border:1px solid #e1e5e9;border-radius:12px;font-size:16px;margin:8px 0;}
.balance-display{font-size:28px;font-weight:bold;color:#4caf50;text-align:center;margin:20px 0;}
.picpay-section{background:#1a73e8;padding:20px;border-radius:15px;color:white;text-align:center;}
.step-card{background:#e8f5e8;padding:20px;border-radius:15px;margin:15px 0;border-left:5px solid #28a745;}
.admin-wallet{background:#d4edda !important;border:3px solid #28a745 !important;}
@media(max-width:768px){input{font-size:14px;padding:14px;}}
</style>
</head>
<body>
<div class="header">
  <h1>âš¡ï¸ PAYEDE INT. v16.3</h1>
  <div style="font-size:14px;opacity:0.9;">Seylor Senesh Admin | Criar Conta GrÃ¡tis</div>
</div>

<!-- ğŸ‘‘ CARTEIRA ADMIN SEYLOR SENESH (10K EDE) -->
<div class="card admin-wallet">
  <h3 style="color:#28a745;">ğŸ‘‘ SEYLOR SENESH - ADMIN MASTER</h3>
  <div class="balance-display" id="adminSaldo">10.000,00 EDE</div>
  <div style="background:#f0f8f0;padding:15px;border-radius:10px;">
    <strong>ğŸ†” ID:</strong> PAY000000<br>
    <strong>ğŸ” Chave:</strong> PAYEDE_INT_ADMIN_10000_7b4f2a9c8d3e5f1g2h3i4j5k6l7m8n9o
  </div>
  <button class="btn btn-success" onclick="copiarAdminChave()">ğŸ“‹ Copiar Chave Admin</button>
</div>

<!-- ğŸš€ PASSO 1: CRIAR CARTEIRA GRÃTIS -->
<div class="card step-card">
  <h3>ğŸ‰ PASSO 1: Criar Carteira GRÃTIS</h3>
  <input id="nomeUsuario" placeholder="ğŸ‘¤ Digite seu nome completo">
  <button class="btn btn-success" onclick="criarCarteiraGratis()">âœ… CRIAR CARTEIRA (GRÃTIS)</button>
  <div id="statusCriacao"></div>
</div>

<!-- ğŸ’³ PASSO 2: ADICIONAR EDE -->
<div class="card step-card" id="secaoDeposito" style="display:none;">
  <h3>ğŸ’° PASSO 2: Adicionar 10 EDE (R$ 2,00)</h3>
  <div id="minhaCarteiraInfo" style="background:#e3f2fd;padding:15px;border-radius:12px;"></div>
  <div class="picpay-section">
    <canvas id="qrPicPay"></canvas>
    <div style="font-size:18px;font-weight:bold;">R$ 2,00 = 10 EDE</div>
    <small>ğŸ“± Escaneie QR â†’ Pague â†’ Copie ID do comprovante</small>
  </div>
  <input id="txidPicPay" placeholder="ğŸ“‹ ID da transaÃ§Ã£o PicPay">
  <button class="btn btn-primary" onclick="adicionarEDE()">ğŸš€ Ativar 10 EDE</button>
</div>

<!-- ğŸ‘¤ MINHA CARTEIRA USUÃRIO -->
<div class="card">
  <h3>ğŸ‘¤ Minha Carteira</h3>
  <div class="balance-display" id="meuSaldo">0 EDE</div>
  <div id="walletInfo" style="display:none;">
    <strong>ğŸ†” ID:</strong> <span id="minhaWalletId"></span><br>
    <strong>ğŸ” Chave:</strong>
  </div>
  <input id="minhaChave" readonly>
  <button class="btn btn-success" onclick="copiarMinhaChave()">ğŸ“‹ Copiar Minha Chave</button>
</div>

<!-- ğŸ”€ TRANSFERÃŠNCIAS -->
<div class="card">
  <h3>ğŸ”€ Transferir EDE</h3>
  <input id="destinoChave" placeholder="ğŸ”‘ Chave Ãºnica destinatÃ¡rio">
  <input id="quantidadeEDE" type="number" placeholder="ğŸ’° Quantidade EDE" min="0.1">
  <button class="btn btn-primary" onclick="fazerTransferencia()">ğŸš€ Transferir</button>
  <div id="statusTransferencia"></div>
</div>

<!-- ğŸ”§ TODAS CARTEIRAS -->
<div class="card" style="background:#fff3cd;">
  <h3>ğŸ“Š Todas as Carteiras</h3>
  <div id="todasWallets">Carregando...</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
<script>
// === PAYEDE INT. v16.3 - ADMIN 10K + CRIAR GRÃTIS ===
class PayEDE_INT {
  constructor() {
    this.wallets = JSON.parse(localStorage.getItem('payedeINTWallets')) || [];
    this.transactions = JSON.parse(localStorage.getItem('payedeINTTransactions')) || [];
    this.totalVendas = parseInt(localStorage.getItem('totalVendas')) || 0;
    this.pagamentos = new Set(JSON.parse(localStorage.getItem('picpayPagos')) || []);
    
    // ğŸ”¥ SEMPRE CRIA CARTEIRA ADMIN SEYLOR SENESH
    this.criarAdminSeylor();
    this.minhaWallet = this.carregarMinhaWallet();
    this.init();
  }
  
  // ğŸ”¥ CARTEIRA ADMIN SEYLOR SENESH 10K - FORÃ‡ADA
  criarAdminSeylor() {
    const CHAVE_ADMIN = 'PAYEDE_INT_ADMIN_10000_7b4f2a9c8d3e5f1g2h3i4j5k6l7m8n9o';
    const adminWallet = {
      id: 'PAY000000',
      nome: 'Seylor Senesh',
      privateKey: CHAVE_ADMIN,
      balance: 10000,
      txid: 'ADMIN_MASTER',
      status: 'admin',
      data: new Date().toLocaleString('pt-BR')
    };
    
    // SOBRESCREVE SE EXISTIR
    const adminIndex = this.wallets.findIndex(w => w.id === 'PAY000000');
    if (adminIndex > -1) {
      this.wallets[adminIndex] = adminWallet;
    } else {
      this.wallets.unshift(adminWallet);
    }
    
    this.salvarTudo();
    console.log('âœ… Admin Seylor Senesh 10K EDE carregada!');
  }
  
  init() {
    this.gerarQRPicPay();
    this.renderTudo();
  }
  
  gerarQRPicPay() {
    const usernamePicPay = 'jaedesystemint'; // â† MUDA AQUI
    QRCode.toCanvas(document.getElementById('qrPicPay'), `picpay://pay?username=${usernamePicPay}&amount=2.00`);
  }
  
  // ğŸš€ CRIAR CARTEIRA GRÃTIS
  criarCarteiraGratis(nome) {
    this.totalVendas++;
    const walletId = `PAY${this.totalVendas.toString().padStart(6, '0')}`;
    const privateKey = `PAYEDE_INT_${Date.now()}_${Math.random().toString(36).substr(2, 32)}`;
    
    const wallet = {
      id: walletId,
      nome: nome,
      privateKey: privateKey,
      balance: 0,
      status: 'criada',
      data: new Date().toLocaleString('pt-BR')
    };
    
    this.wallets.push(wallet);
    localStorage.setItem('minhaChavePrivada', privateKey);
    this.minhaWallet = wallet;
    this.salvarTudo();
    
    document.getElementById('secaoDeposito').style.display = 'block';
    document.getElementById('statusCriacao').innerHTML = `<div style="color:#28a745;">âœ… Carteira ${walletId} criada! Agora adicione EDE.</div>`;
    return wallet;
  }
  
  // ğŸ’° ATIVAR 10 EDE
  adicionarEDE(txid) {
    if (!this.minhaWallet) return alert('âŒ Crie sua carteira primeiro!');
    if (this.pagamentos.has(txid)) return alert('âŒ ID jÃ¡ usado!');
    
    this.minhaWallet.balance += 10;
    this.minhaWallet.status = 'ativa';
    this.pagamentos.add(txid);
    this.salvarTudo();
    
    this.renderTudo();
    alert(`âœ… +10 EDE ativados!\nNovo saldo: ${this.minhaWallet.balance} EDE`);
  }
  
  fazerTransferencia() {
    const destino = document.getElementById('destinoChave').value.trim();
    const qtd = parseFloat(document.getElementById('quantidadeEDE').value);
    
    if (!this.minhaWallet || this.minhaWallet.balance < qtd) return alert('âŒ Saldo insuficiente!');
    const destinatario = this.wallets.find(w => w.privateKey === destino);
    if (!destinatario) return alert('âŒ Chave invÃ¡lida!');
    
    this.minhaWallet.balance -= qtd;
    destinatario.balance += qtd;
    this.salvarTudo();
    this.renderTudo();
    
    document.getElementById('statusTransferencia').innerHTML = `<div style="color:#28a745;">âœ… ${qtd} EDE â†’ ${destinatario.nome}</div>`;
  }
  
  salvarTudo() {
    localStorage.setItem('payedeINTWallets', JSON.stringify(this.wallets));
    localStorage.setItem('payedeINTTransactions', JSON.stringify(this.transactions));
    localStorage.setItem('picpayPagos', JSON.stringify([...this.pagamentos]));
    localStorage.setItem('totalVendas', this.totalVendas);
  }
  
  carregarMinhaWallet() {
    const chaveSalva = localStorage.getItem('minhaChavePrivada');
    return chaveSalva ? this.wallets.find(w => w.privateKey === chaveSalva) : null;
  }
  
  renderTudo() {
    // Admin sempre visÃ­vel
    document.getElementById('adminSaldo').textContent = '10.000,00 EDE';
    
    // Minha carteira usuÃ¡rio
    if (this.minhaWallet && this.minhaWallet.id !== 'PAY000000') {
      document.getElementById('meuSaldo').textContent = `${this.minhaWallet.balance.toFixed(2)} EDE`;
      document.getElementById('minhaChave').value = this.minhaWallet.privateKey;
      document.getElementById('minhaWalletId').textContent = this.minhaWallet.id;
      document.getElementById('walletInfo').style.display = 'block';
      document.getElementById('minhaCarteiraInfo').innerHTML = 
        `ğŸ†” ${this.minhaWallet.id} | ${this.minhaWallet.nome} | ${this.minhaWallet.balance.toFixed(2)} EDE`;
    }
    
    // Todas carteiras
    const walletsHtml = this.wallets.map(w => `
      <div style="padding:15px;border:1px solid #eee;border-radius:10px;margin:10px 0;background:${w.status === 'admin' ? '#d4edda' : '#f9f9f9'};${w.id === 'PAY000000' ? 'border-left:5px solid #28a745;box-shadow:0 4px 15px rgba(40,167,69,0.3);' : ''}">
        <div style="font-weight:bold;font-size:16px;">${w.id}</div>
        <div>${w.nome}</div>
        <div style="color:#4caf50;font-size:18px;">${w.balance.toFixed(2)} EDE</div>
        <div style="font-size:12px;color:#666;">${w.privateKey.slice(0,24)}...</div>
      </div>
    `).join('');
    document.getElementById('todasWallets').innerHTML = walletsHtml;
  }
}

const payEDE_INT = new PayEDE_INT();
window.payEDE_INT = payEDE_INT;

// ğŸ¯ FUNÃ‡Ã•ES GLOBAIS
function criarCarteiraGratis() {
  const nome = document.getElementById('nomeUsuario').value.trim();
  if (!nome || nome.length < 3) return alert('âŒ Nome completo obrigatÃ³rio!');
  payEDE_INT.criarCarteiraGratis(nome);
}

function adicionarEDE() {
  const txid = document.getElementById('txidPicPay').value.trim();
  if (!txid) return alert('âŒ Cole ID do PicPay!');
  payEDE_INT.adicionarEDE(txid);
}

function copiarMinhaChave() {
  const chave = document.getElementById('minhaChave');
  navigator.clipboard.writeText(chave.value);
  alert('âœ… Chave copiada!');
}

function copiarAdminChave() {
  navigator.clipboard.writeText('PAYEDE_INT_ADMIN_10000_7b4f2a9c8d3e5f1g2h3i4j5k6l7m8n9o');
  alert('âœ… Chave Admin Seylor Senesh copiada!');
}

function fazerTransferencia() {
  payEDE_INT.fazerTransferencia();
}
</script>
</body>
</html>
